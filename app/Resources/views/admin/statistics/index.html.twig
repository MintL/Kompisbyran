{% extends 'base.html.twig' %}

{% block body %}
    <div class="inner-page">
        <div class="container">
            <h1>Statistik</h1><br>
            <div class="row">
                <form method="get" action="">
                    <div class="col-sm-3">
                        <div class="form-group">
                            <select class="form-control" name="city">
                                <option value="">Alla städer</option>
                                {% for city in cities %}
                                    <option value="{{ city.id }}" {{ city.id == params.city ? ' selected ' : '' }}>{{ city.name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <select class="form-control" name="year">
                                {% for year in years %}
                                    <option value="{{ year }}" {{ year == params.year ? ' selected ' : '' }}>{{ year }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <select class="form-control" name="type">
                                <option value=""{{ params.type == '' ? ' selected ' : '' }}>Alla typer</option>
                                <option value="0"{{ params.type == '0' ? ' selected ' : '' }}>Inte Musikkompis</option>
                                <option value="1"{{ params.type == '1' ? ' selected ' : '' }}>Musikkompis</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <button type="submit" class="btn btn-default">Visa</button>
                        </div>
                    </div>
                </form>
            </div>
            <h2>Genomförda matchningar</h2>
            <div class="row">
                <div class="col-sm-10">
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                <th>Månad</th>
                                <th>Antal</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for key, match in matches %}
                                <tr>
                                    <td>{{ key }}</td>
                                    <td>{{ match }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="col-sm-2"></div>
            </div>
        </div>
    </div>
{% endblock %}